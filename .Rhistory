x = "Airport",
y = "Number of Flights"
) +
theme_minimal()
#| warning: false
#| message: false
max_departure_delay <- read_csv("data/project_q1_bm1262.csv")
max_early_departure <- read_csv("data/project_q2_bm1262.csv")
weekday_rank <- read_csv("data/project_q3_bm1262.csv")
airport_max_delay <- read_csv("data/project_q4_bm1262.csv")
airline_airport_delay <- read_csv("data/project_q5_bm1262.csv")
max_departure_delay %>%
ggplot(aes(x = reorder(Airline, MaxDelay), y = MaxDelay)) +
geom_col(fill = "#D55E00") +
coord_flip() +
geom_text(aes(label = MaxDelay), hjust = -0.1, size = 3.5) +
labs(
title = "Maximum Departure Delay by Airline",
x = "Airline",
y = "Delay (minutes)"
) +
theme_minimal(base_size = 13)
head(max_departure_delay)
max_departure_delay %>%
arrange(MaxDepartureDelayMinutes) %>%  # sort from smallest to largest
ggplot(aes(x = reorder(AirlineName, MaxDepartureDelayMinutes),
y = MaxDepartureDelayMinutes)) +
geom_col(fill = "#D55E00", width = 0.7) +
geom_text(aes(label = MaxDepartureDelayMinutes),
hjust = -0.1, size = 3.5, color = "black") +
coord_flip() +
labs(
title = "Maximum Departure Delay by Airline",
subtitle = "Sorted from smallest to largest maximal delay",
x = "Airline",
y = "Max Departure Delay (minutes)"
) +
theme_minimal(base_size = 13) +
theme(
plot.title = element_text(face = "bold", size = 16),
plot.subtitle = element_text(size = 12, color = "gray40"),
axis.title = element_text(face = "bold"),
panel.grid.major.y = element_blank()
)
max_departure_delay %>%
arrange(MaxDepartureDelayMinutes) %>%
ggplot(aes(x = reorder(AirlineName, MaxDepartureDelayMinutes),
y = MaxDepartureDelayMinutes)) +
geom_segment(aes(xend = AirlineName, y = 0, yend = MaxDepartureDelayMinutes),
color = "#D55E00", size = 1) +
geom_point(color = "#D55E00", size = 3) +
coord_flip() +
labs(
title = "Maximum Departure Delay by Airline",
subtitle = "Lollipop chart emphasizing extreme delays",
x = "Airline",
y = "Max Departure Delay (minutes)"
) +
theme_minimal(base_size = 13) +
theme(
plot.title = element_text(face = "bold", size = 16),
plot.subtitle = element_text(size = 12, color = "gray40"),
axis.title = element_text(face = "bold"),
panel.grid.major.y = element_blank()
)
max_departure_delay %>%
ggplot(aes(x = MaxDepartureDelayMinutes, y = reorder(AirlineName, MaxDepartureDelayMinutes))) +
geom_point(color = "#D55E00", size = 3) +
labs(
title = "Maximum Departure Delay by Airline",
subtitle = "Dot plot showing extreme delays per airline",
x = "Max Departure Delay (minutes)",
y = "Airline"
) +
theme_minimal(base_size = 13)
max_departure_delay %>%
top_n(5, MaxDepartureDelayMinutes) %>%
ggplot(aes(x = reorder(AirlineName, MaxDepartureDelayMinutes), y = MaxDepartureDelayMinutes)) +
geom_col(fill = "#D55E00", width = 0.7) +
geom_text(aes(label = MaxDepartureDelayMinutes), hjust = -0.1, size = 3.5) +
coord_flip() +
labs(
title = "Top 5 Airlines with Maximum Departure Delays",
x = "Airline",
y = "Max Departure Delay (minutes)"
) +
theme_minimal(base_size = 13)
head(max_early_departure)
max_early_departure %>%
arrange(MaxEarlyDepartureMinutes) %>%
ggplot(aes(x = reorder(AirlineName, MaxEarlyDepartureMinutes),
y = MaxEarlyDepartureMinutes)) +
geom_col(fill = "#0072B2", width = 0.7) +
geom_text(aes(label = MaxEarlyDepartureMinutes),
hjust = 1.1, size = 3.5, color = "white") +
coord_flip() +
labs(
title = "Maximum Early Departure by Airline",
subtitle = "Most negative values indicate the earliest departures",
x = "Airline",
y = "Early Departure (minutes)"
) +
theme_minimal(base_size = 13) +
theme(
plot.title = element_text(face = "bold", size = 16),
plot.subtitle = element_text(size = 12, color = "gray40"),
axis.title = element_text(face = "bold"),
panel.grid.major.y = element_blank()
)
max_early_departure %>%
arrange(MaxEarlyDepartureMinutes) %>%
slice_head(n = 5) %>%
ggplot(aes(x = reorder(AirlineName, MaxEarlyDepartureMinutes),
y = MaxEarlyDepartureMinutes)) +
geom_col(fill = "#0072B2", width = 0.7) +
geom_text(aes(label = MaxEarlyDepartureMinutes),
hjust = 1.1, size = 3.5, color = "white") +
coord_flip() +
labs(
title = "Top 5 Airlines with Maximum Early Departures",
subtitle = "Most negative values indicate earliest departures",
x = "Airline",
y = "Early Departure (minutes)"
) +
theme_minimal(base_size = 13) +
theme(
plot.title = element_text(face = "bold", size = 16),
plot.subtitle = element_text(size = 12, color = "gray40"),
axis.title = element_text(face = "bold"),
panel.grid.major.y = element_blank()
)
max_early_departure %>%
arrange(MaxEarlyDepartureMinutes) %>%
slice_head(n = 5) %>%  # top 5 earliest departures
ggplot(aes(x = MaxEarlyDepartureMinutes,
y = reorder(AirlineName, MaxEarlyDepartureMinutes))) +
geom_point(color = "#0072B2", size = 4) +
geom_text(aes(label = MaxEarlyDepartureMinutes),
hjust = -0.3, size = 3.5, color = "black") +
labs(
title = "Top 5 Airlines with Maximum Early Departures",
subtitle = "Negative values indicate minutes ahead of scheduled departure",
x = "Early Departure (minutes)",
y = "Airline"
) +
theme_minimal(base_size = 13) +
theme(
plot.title = element_text(face = "bold", size = 16),
plot.subtitle = element_text(size = 12, color = "gray40"),
axis.title = element_text(face = "bold"),
panel.grid.major.y = element_blank()
)
max_early_departure %>%
mutate(EarlyMinutes = abs(MaxEarlyDepartureMinutes)) %>%  # convert to positive for clarity
top_n(5, EarlyMinutes) %>%
ggplot(aes(x = EarlyMinutes, y = reorder(AirlineName, EarlyMinutes))) +
geom_point(color = "#0072B2", size = 4) +
geom_text(aes(label = EarlyMinutes), hjust = -0.2, size = 3.5) +
labs(
title = "Top 5 Airlines with Maximum Early Departures",
x = "Early Departure (minutes)",
y = "Airline"
) +
theme_minimal(base_size = 13) +
theme(
plot.title = element_text(face = "bold", size = 16),
axis.title = element_text(face = "bold"),
panel.grid.major.y = element_blank()
) +
xlim(0, max(abs(max_early_departure$MaxEarlyDepartureMinutes)) + 10)
max_early_departure %>%
mutate(EarlyMinutes = abs(MaxEarlyDepartureMinutes)) %>%  # convert to positive
top_n(5, EarlyMinutes) %>%
arrange(EarlyMinutes) %>%
ggplot(aes(x = reorder(AirlineName, EarlyMinutes), y = EarlyMinutes)) +
geom_segment(aes(xend = AirlineName, y = 0, yend = EarlyMinutes),
color = "#0072B2", size = 1) +
geom_point(color = "#0072B2", size = 4) +
geom_text(aes(label = EarlyMinutes), hjust = -0.3, size = 3.5, color = "black") +
coord_flip() +
labs(
title = "Top 5 Airlines with Largest Early Departures",
subtitle = "Positive values indicate minutes flights departed early",
x = "Airline",
y = "Minutes Early"
) +
theme_minimal(base_size = 13) +
theme(
plot.title = element_text(face = "bold", size = 16),
plot.subtitle = element_text(size = 12, color = "gray40"),
axis.title = element_text(face = "bold"),
panel.grid.major.y = element_blank()
)
head(weekday_rank)
weekday_rank %>%
arrange(FlightRank) %>%  # ensure sorted by rank
ggplot(aes(x = reorder(DayName, -FlightRank), y = NumFlights, fill = FlightRank)) +
geom_col() +
geom_text(aes(label = NumFlights), vjust = -0.5, size = 3.5) +
scale_fill_gradient(low = "#56B4E9", high = "#E69F00") +
labs(
title = "Number of Flights by Day of the Week",
subtitle = "Days ranked by total flights (1 = busiest)",
x = "Day of Week",
y = "Number of Flights",
fill = "Rank"
) +
theme_minimal(base_size = 13) +
theme(
plot.title = element_text(face = "bold", size = 16),
plot.subtitle = element_text(size = 12, color = "gray40"),
axis.title = element_text(face = "bold"),
panel.grid.major.x = element_blank()
)
weekday_order <- c("Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday", "Sunday")
weekday_rank %>%
mutate(DayName = factor(DayName, levels = weekday_order)) %>%
ggplot(aes(x = DayName, y = NumFlights, group = 1)) +
geom_line(color = "#0072B2", size = 1.2) +
geom_point(color = "#0072B2", size = 4) +
geom_text(aes(label = NumFlights), vjust = -0.5, size = 3.5) +
labs(
title = "Weekly Flight Volume Trend",
subtitle = "Number of flights by day of the week",
x = "Day of Week",
y = "Number of Flights"
) +
theme_minimal(base_size = 13) +
theme(
plot.title = element_text(face = "bold", size = 16),
plot.subtitle = element_text(size = 12, color = "gray40"),
axis.title = element_text(face = "bold")
)
airport_max_delay
ggplot(airport_max_delay, aes(x = AirportName, y = AvgDepartureDelay)) +
geom_col(fill = "#D55E00", width = 0.5) +
geom_text(aes(label = round(AvgDepartureDelay, 1)), vjust = -0.5, size = 6) +
labs(
title = "Airport with Highest Average Departure Delay",
subtitle = paste0("Airport Code: ", airport_max_delay$AirportCode),
x = NULL,
y = "Average Departure Delay (minutes)"
) +
theme_minimal(base_size = 14) +
theme(
axis.text.x = element_blank(),
axis.ticks.x = element_blank(),
plot.title = element_text(face = "bold", size = 16),
plot.subtitle = element_text(size = 12, color = "gray40")
)
cat(
"Airport with Highest Average Departure Delay:\n",
airport_max_delay$AirportName, "(", airport_max_delay$AirportCode, ")\n",
"Average Delay: ", round(airport_max_delay$AvgDepartureDelay, 1), "minutes\n"
)
head(airline_airport_delay)
airline_airport_top10 <- airline_airport_delay %>%
group_by(AirlineName) %>%
slice_max(AvgDepartureDelay, n = 1) %>%  # pick the airport with max delay per airline
ungroup() %>%
top_n(10, AvgDepartureDelay) %>%
arrange(AvgDepartureDelay)
library(ggalt)
install.packages("ggalt")
library(ggalt)
install.packages("ggalt")
install.packages("ggalt")
airline_airport_top10 %>%
ggplot(aes(x = AirportName, y = reorder(AirlineName, AvgDepartureDelay), fill = AvgDepartureDelay)) +
geom_tile(color = "white") +
scale_fill_gradient(low = "#FEE08B", high = "#D53E4F") +
labs(
title = "Top 10 Airlines: Airport with Highest Average Departure Delay",
x = "Airport",
y = "Airline",
fill = "Avg Delay"
) +
theme_minimal(base_size = 13) +
theme(axis.text.x = element_text(angle = 45, hjust = 1))
airline_airport_top10 <- airline_airport_delay %>%
group_by(AirlineName) %>%
slice_max(AvgDepartureDelay, n = 1) %>%  # pick the airport with max delay per airline
ungroup() %>%
top_n(10, AvgDepartureDelay) %>%
arrange(AvgDepartureDelay)
airline_airport_top10 %>%
ggplot(aes(x = AirportName, y = reorder(AirlineName, AvgDepartureDelay), fill = AvgDepartureDelay)) +
geom_tile(color = "white") +
scale_fill_gradient(low = "#FEE08B", high = "#D53E4F") +
labs(
title = "Top 10 Airlines: Airport with Highest Average Departure Delay",
x = "Airport",
y = "Airline",
fill = "Avg Delay"
) +
theme_minimal(base_size = 13) +
theme(axis.text.x = element_text(angle = 45, hjust = 1))
colnames(airline_airport_delay)
colnames(airline_airport_delay)
head(airline_airport_delay)
top_airport_per_airline <- airline_airport_delay %>%
group_by(AirlineName) %>%
slice_max(AvgDepDelay, n = 1) %>%  # pick the airport with max delay
ungroup() %>%
arrange(AvgDepDelay)
top_airport_per_airline %>%
ggplot(aes(x = reorder(AirlineName, AvgDepDelay), y = AvgDepDelay)) +
geom_segment(aes(xend = AirlineName, y = 0, yend = AvgDepDelay), color = "#D55E00", size = 1) +
geom_point(color = "#D55E00", size = 4) +
geom_text(aes(label = round(AvgDepDelay,1)), hjust = -0.3, size = 3.5) +
coord_flip() +
labs(
title = "Airline's Airport with Highest Average Departure Delay",
subtitle = "One airport per airline with maximum average departure delay",
x = "Airline",
y = "Average Departure Delay (minutes)"
) +
theme_minimal(base_size = 13) +
theme(
plot.title = element_text(face = "bold", size = 16),
plot.subtitle = element_text(size = 12, color = "gray40"),
axis.title = element_text(face = "bold"),
panel.grid.major.y = element_blank()
)
top_airport_per_airline <- airline_airport_delay %>%
group_by(AirlineName) %>%
slice_max(AvgDepDelay, n = 1) %>%
ungroup()
top5_airlines <- top_airport_per_airline %>%
slice_max(AvgDepDelay, n = 5) %>%
arrange(AvgDepDelay)
top5_airlines %>%
ggplot(aes(x = reorder(AirlineName, AvgDepDelay), y = AvgDepDelay)) +
geom_segment(aes(xend = AirlineName, y = 0, yend = AvgDepDelay), color = "#D55E00", size = 1) +
geom_point(color = "#D55E00", size = 4) +
geom_text(aes(label = round(AvgDepDelay,1)), hjust = -0.3, size = 4) +
coord_flip() +
labs(
title = "Top 5 Airlines by Maximum Average Departure Delay at a Single Airport",
subtitle = "One airport per airline with highest average departure delay",
x = "Airline",
y = "Average Departure Delay (minutes)"
) +
theme_minimal(base_size = 13) +
theme(
plot.title = element_text(face = "bold", size = 16),
plot.subtitle = element_text(size = 12, color = "gray40"),
axis.title = element_text(face = "bold"),
panel.grid.major.y = element_blank()
)
canceled_flights <- read_csv("data/project_q6a_bm1262.csv")
# Preview
head(canceled_flights)
canceled_flights <- read_csv("data/project_q6a_bm1262.csv")
cat(
"Total Number of Canceled Flights in the Dataset:\n",
canceled_flights$NumCanceledFlights, "\n"
)
canceled_flights <- read_csv("data/project_q6a_bm1262.csv")
cat(
"Total Number of Canceled Flights in the Dataset:\n",
canceled_flights$NumCanceledFlights, "\n"
)
#| warning: false
#| message: false
canceled_flights <- read_csv("data/project_q6a_bm1262.csv")
cat(
"Total Number of Canceled Flights in the Dataset:\n",
canceled_flights$NumCanceledFlights, "\n"
)
most_freq_cancellation <- read_csv("data/project_q6b_bm1262.csv")
head(most_freq_cancellation)
#| warning: false
#| message: false
canceled_flights <- read_csv("data/project_q6a_bm1262.csv")
most_freq_cancellation <- read_csv("data/project_q6b_bm1262.csv")
cat(
"Total Number of Canceled Flights in the Dataset:\n",
canceled_flights$NumCanceledFlights, "\n"
)
head(most_freq_cancellation)
ggplot(top_cancellations, aes(x = reorder(AirportName, NumCancellations), y = NumCancellations, size = NumCancellations, color = MostFrequentReason)) +
geom_point(alpha = 0.7) +
coord_flip() +
labs(
title = "Top 10 Airports by Most Frequent Cancellation Reason",
subtitle = "Bubble size represents number of cancellations",
x = "Airport",
y = "Number of Cancellations",
color = "Reason",
size = "Num Cancellations"
) +
theme_minimal(base_size = 13) +
theme(plot.title = element_text(face = "bold"))
top_cancellations <- most_freq_cancellation %>%
group_by(AirportName) %>%
slice_max(NumCancellations, n = 1) %>%
ungroup() %>%
slice_max(NumCancellations, n = 10) %>%
arrange(NumCancellations)
ggplot(top_cancellations, aes(x = reorder(AirportName, NumCancellations), y = NumCancellations, size = NumCancellations, color = MostFrequentReason)) +
geom_point(alpha = 0.7) +
coord_flip() +
labs(
title = "Top 10 Airports by Most Frequent Cancellation Reason",
subtitle = "Bubble size represents number of cancellations",
x = "Airport",
y = "Number of Cancellations",
color = "Reason",
size = "Num Cancellations"
) +
theme_minimal(base_size = 13) +
theme(plot.title = element_text(face = "bold"))
install.packages("treemapify")
top_cancellations <- most_freq_cancellation %>%
group_by(AirportName) %>%
slice_max(NumCancellations, n = 1) %>%
ungroup() %>%
slice_max(NumCancellations, n = 10) %>%
arrange(NumCancellations)
library(treemapify)
top_cancellations %>%
ggplot(aes(area = NumCancellations, fill = MostFrequentReason, label = AirportName)) +
geom_treemap() +
geom_treemap_text(fontface = "bold", color = "white", place = "center") +
labs(
title = "Top 10 Airports by Most Frequent Cancellation Reason",
subtitle = "Treemap shows cancellations proportionally by airport"
)
#| warning: false
#| message: false
library(readr)
library(dplyr)
library(lubridate)
library(ggplot2)
library(treemapify)
top_cancellations <- most_freq_cancellation %>%
group_by(AirportName) %>%
slice_max(NumCancellations, n = 1) %>%
ungroup() %>%
slice_max(NumCancellations, n = 10) %>%
arrange(NumCancellations)
# Treemap
ggplot(top_cancellations, aes(
area = NumCancellations,
fill = MostFrequentReason,
label = paste0(AirportName, "\n", NumCancellations)
)) +
geom_treemap(color = "white", size = 0.5) +
geom_treemap_text(
fontface = "bold",
colour = "white",
place = "centre",
grow = TRUE,
reflow = TRUE
) +
scale_fill_brewer(palette = "Set2") +  # colorblind-friendly palette
labs(
title = "Top 10 Airports by Most Frequent Cancellation Reason",
subtitle = "Area represents number of cancellations; color indicates reason"
) +
theme_minimal(base_size = 14) +
theme(
plot.title = element_text(face = "bold", size = 16),
plot.subtitle = element_text(size = 12, color = "gray40"),
legend.title = element_text(face = "bold")
)
#| warning: false
#| message: false
canceled_flights <- read_csv("data/project_q6a_bm1262.csv")
most_freq_cancellation <- read_csv("data/project_q6b_bm1262.csv")
avg_flights_3days <- read_csv("data/project_q7_bm1262.csv")
head(avg_flights_3days)
ggplot(avg_flights_3days, aes(x = as.Date(FlightDate), y = AvgFlightsPrev3Days)) +
geom_line(color = "#0072B2", size = 1.2) +
geom_point(color = "#D55E00", size = 2, alpha = 0.7) +
labs(
title = "3-Day Moving Average of Daily Flights",
subtitle = "Smooth trend showing average number of flights over the preceding 3 days",
x = "Date",
y = "Average Number of Flights"
) +
theme_minimal(base_size = 13) +
theme(
plot.title = element_text(face = "bold", size = 16),
plot.subtitle = element_text(size = 12, color = "gray40")
) +
geom_vline(xintercept = as.Date("2019-07-04"), linetype = "dashed", color = "gray40") +
annotate("text", x = as.Date("2019-07-04"), y = max(avg_flights_3days$AvgFlightsPrev3Days),
label = "July 4th Holiday", vjust = -0.5, hjust = 0.5, color = "gray20", size = 3.5)
head(avg_flights_3days)
str(avg_flights_3days)
avg_flights_3days
#| warning: false
#| message: false
ggplot(avg_flights_3days, aes(x = as.Date(FlightDate), y = AvgFlightsPrev3Days)) +
geom_line(color = "#0072B2", size = 1.2) +
geom_point(color = "#D55E00", size = 2, alpha = 0.7) +
labs(
title = "3-Day Moving Average of Daily Flights",
subtitle = "Smooth trend showing average number of flights over the preceding 3 days",
x = "Date",
y = "Average Number of Flights"
) +
theme_minimal(base_size = 13) +
theme(
plot.title = element_text(face = "bold", size = 16),
plot.subtitle = element_text(size = 12, color = "gray40")
) +
geom_vline(xintercept = as.Date("2019-07-04"), linetype = "dashed", color = "gray40") +
annotate("text", x = as.Date("2019-07-04"), y = max(avg_flights_3days$AvgFlightsPrev3Days),
label = "July 4th Holiday", vjust = -0.5, hjust = 0.5, color = "gray20", size = 3.5)
